---
title: "Ch3 Data Visualization"
author: "Lucas Anderton"
date: "1/5/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

# Data Visualization
### 3.2
```{r}
mpg

ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy))

ggplot(data = mpg) +
  geom_point(mapping = aes(x = hwy, y = cyl))

ggplot(data = mpg) +
  geom_point(mapping = aes(x = class, y = drv))
```

**Graphing Template**
```
ggplot(data = <DATA>) + 
  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))
```

**Exercises**

3. What does the `drv` variable describe? **`drv` describes whether the vehicle is front-wheel drive, rear-wheel drive, or 4-wheel drive.**
5. What happens if you make a scatterplot of `class` vs `drv`? Why is the plot not useful? Both values are categorative and most car models offer each type of drive. 

### 3.3
```{r}
# Adding a color aesthetic
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, color = class))

# Adding an alpha aesthetic, which adjusts transparency
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, alpha = class))

# Adding a shape aesthetic
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, shape = class))

# Manually setting aesthetic properties
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy), color = "blue")

```

**Exercises**

```
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = "blue"))
```

1. What's gone wrong with this code? **the color needs to be removed from inside the parentheses for manually setting aeshetic characters, like `mapping = aes(x = displ, y = hwy), color = "blue"))`**
2. Which variables in `mpg` are categorical? **Out of 11 variables, 6 are categorical and 5 are continuous**
3. Map a continuous variable to color, size, and shape. How do these aesthetics behave differently for categorical vs. continuous variables? **Continuous variables differ from categorical variables in these variables by creating quantative spectrums rather than individual color codes.**

```{r}
ggplot(data = mpg) +
  geom_point(mapping=aes(x = displ, y = hwy, color = cty))
```

4. What happens if you map the same variable to multiple aesthetics? **Applies a color gradient that goes in the same direction as the axis of the same variable**

```{r}
ggplot(data = mpg) +
  geom_point(mapping=aes(x= displ, y = hwy, color = hwy))
```

5. What does the `stroke` aesthetic do? What shapes does it work with? **Modifies the width of the border on shapes which have borders.**

```{r}
ggplot(data = mpg, aes(x = displ, y = hwy)) +
  geom_point(shape = 21, color = "black", fill = "white", size = 5, stroke = 5)
```

6. What happens if you map an aesthetic to something other than a variable name, like `aes(color = displ < 5) `? (Specify x and y) **It does conditional aesthetics based off whether or not it fufills the criteria**

```{r}
ggplot(data = mpg) +
  geom_point(mapping=aes(color = displ < 5, x = hwy, y = cty))
```

### 3.5 Facets

To facet your plot by a single variable, use `facet_wrap()`. The first argument of `facet_wrap()` should be a formula, which you create with `~` followed by a variable name (here “formula” is the name of a data structure in R, not a synonym for “equation”). The variable that you pass to `facet_wrap()` should be discrete.

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_wrap(~ class, nrow = 2)
```

To facet your plot on the combination of two variables, add `facet_grid()` to your plot call. The first argument of `facet_grid()` is also a formula. This time the formula should contain two variable names separated by a `~`.

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(drv ~ cyl) # can't set a nrow here because the rows is determined by number of variables in 'cyl'
```

If you prefer to not facet in the rows or columns dimension, use a . instead of a variable name, e.g. `+ facet_grid(. ~ cyl)`.

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(. ~ cyl)
```

**Exercises**

1. What happens if you facet on a continuous variable? **Partitions by that continuous variable**

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(displ, hwy)) +
  facet_grid(~year)
```

2. What do the empty cells in plot with `facet_grid(drv ~ cyl) ` mean? How do they relate to this plot? **It means there is no overlap with those two variables, drive and number of cylinders, which is confirmed by the lack of dots at intersectinos in the plot below.**

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(drv, cyl))
```

3. What plots does the following code make? What does `.` do? **The following code plots engine displacement against highway miles per gallon and splits the values up by drive style in the first plot and number of cylinders in the second. The `.` plots these facets against themselves, rather than another variable**

```{r}
ggplot(data = mpg) +
  geom_point(mapping=aes(displ, hwy)) +
  facet_grid(drv ~ .)

ggplot(data = mpg) +
  geom_point(mapping = aes(displ, hwy)) +
  facet_grid(cyl ~ .)
```

4. Take the first plot in this section:

```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)
```

What are the advantages to using faceting instead of the colour aesthetic? What are the disadvantages? How might the balance change if you had a larger dataset? **To me, the greates advantage of faceting is splitting up data that is very noisy or busy in a small range of space. It spreads out similar data much more, but it makes specific comparisoners harder since the data isn't on the same plane.**

5. What does `nrow` do? What does `ncol` do? What other options control the layout of the individual panels? Why doesn’t `facet_grid()` have `nrow` and `ncol` arguments? **`nrow` and `ncol` set the number of rows and columns, respectively. `facet_grid()` doesn't have it because the two variables selected determines the number of rows and columns.**

6. When using `facet_grid()` you should usually put the variable with more unique levels in the columns. Why? **There will be more space for columns if the plot is laid out horizontally (landscape).**

### 3.6 Geometric Objects

To change the geom in your plot, change the geom function that you add to `ggplot()`. For instance, to make the plots above, you can use this code:

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(displ, hwy))

ggplot(data = mpg) + 
  geom_smooth(mapping = aes(displ, hwy))
```

Every geom function in `ggplot2` takes a mapping argument. However, not every aesthetic works with every geom. You could set the shape of a point, but you couldn’t set the “shape” of a line. On the other hand, you could set the linetype of a line. `geom_smooth()` will draw a different line, with a different linetype, for each unique value of the variable that you map to linetype.

```{r}
ggplot(data = mpg) +
  geom_smooth(mapping = aes (displ, hwy, linetype = drv))
```

To display multiple geoms in the same plot, add multiple geom functions to `ggplot():`

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(displ, hwy)) +
  geom_smooth(mapping = aes(displ, hwy))
```









